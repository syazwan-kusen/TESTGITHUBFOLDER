@using Newtonsoft.Json;
@using myvdbsSQL;
@using MyVDBSDemo.Models;
@*@model IEnumerable<MyVDBSDemo.Models.Verify>*@
@model MyVDBSDemo.Models.VulneralibilityProjectDataUpdate


@{
    ViewBag.Title = "Vulnerability Project Update";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

@using (Html.BeginForm(null, null, FormMethod.Post, new { id = "__AjaxAntiForgeryForm" }))
{
    @Html.AntiForgeryToken()
}
<style>
    #hover1:hover {
        background-color: ActiveBorder;
    }

    #hover2:hover {
        background-color: ActiveBorder;
    }

    #hover3:hover {
        background-color: ActiveBorder;
    }

    #hover4:hover {
        background-color: ActiveBorder;
    }

    #hover5:hover {
        background-color: ActiveBorder;
    }
</style>

<script>
    $(function () {
        $("#tabs").tabs();
    });
</script>

<body>
    @*<div class="col-lg-12">
            <div class="panel-default" style="text-align:center;background-color:#7BE4E4;text-transform:uppercase;text-decoration:solid"><h3>Audit Trail</h3></div>
        </div>*@

    <div class="col-lg-12" style="margin-top:70px;">
        <div class="panel panel-info">
            <div class="panel-heading">
                <h3 class="panel-title">Vulnerability Project List Update</h3>
            </div>
            <div id="tabs">
                <ul>
                    <li><a href="#tabs-1">Client Information</a></li>
                    <li><a href="#tabs-2">Scope of Work</a></li>
                </ul>
                <div id="tabs-1">
                    @Html.Partial("ClientInformationUpdate")
                </div>
                <div id="tabs-2">
                    @Html.Partial("ScopeOfWork")
                </div>
            </div>
        </div>
    </div>

    @*@Html.Partial("_CommonDialog")*@
</body>


<script src="~/Scripts/Common/Common.js"></script>
<script>

    var Register = @Html.Raw(JsonConvert.SerializeObject(@Model, Formatting.None,
                              new JsonSerializerSettings()
    {

                                  ReferenceLoopHandling = ReferenceLoopHandling.Ignore
    }));

    var formCsrf = $('#__AjaxAntiForgeryForm');
    var tokenCsrf = $('input[name="__RequestVerificationToken"]', formCsrf).val();
</script>

<script>

    activtab = sessionStorage["activtab"];

    if (activtab == undefined) {
        activtab = 0;
    }
    else {
        activtab = parseInt(activtab);
    }

    $("#tabs").tabs({ active: activtab });

    $("#verifyUser").dataTable({ pageLength: 5, "bLengthChange": false, });
    $("#verifyUser2").dataTable({ pageLength: 5, "bLengthChange": false, });
    $("#verifyUser3").dataTable({ pageLength: 5, "bLengthChange": false, });
    $("#verifyUser4").dataTable({ pageLength: 5, "bLengthChange": false, });
    $("#verifyUser5").dataTable({ pageLength: 5, "bLengthChange": false, });
    $("#verifyUser6").dataTable({ pageLength: 5, "bLengthChange": false, });

    $("#IPAddressLOD").change(function () {
        var dInput = this.value;
        var ipformat = /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;
        if (dInput.match(ipformat)) {

        } else {
            ShowMessageWarning("You have entered an invalid IP address.");
            $("#IPAddressLOD").val("");
        }
    });

    $("#IPAddress").change(function () {
        var dInput = this.value;
        var ipformat = /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;
        if (dInput.match(ipformat)) {

        } else {
            ShowMessageWarning("You have entered an invalid IP address.");
            $("#IPAddress").val("");
        }
    });

    $("#IPAddressND").change(function () {
        var dInput = this.value;
        var ipformat = /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;
        if (dInput.match(ipformat)) {

        } else {
            ShowMessageWarning("You have entered an invalid IP address.");
            $("#IPAddressND").val("");
        }
    });

    $('#deletelistofserver').click(function () {

        var DelId = "";
        var objchk = document.getElementsByName("chkdeletelistofserver")


        for (var i = 0; i < objchk.length; i++) {
            if (objchk[i].checked == true) {
                DelId = DelId + objchk[i].value + " , ";
            }
        }

        if (DelId == "") {
            ShowMessageWarning("Please select record");

        }
        else {
            var count = 0; // utk elakkan decisionmessage masuk lebih dri 1 kali
            ShowDecisionMessage("Are you sure to delete this record?", function () {

                if (count == 0) {
                    //       alert(DelId);
                    viewModel.Deletelistofserver(DelId);

                    count++;
                }


            });

        }


    })
    $('#deleteListOfNetworkDevice').click(function () {

        var DelId = "";
        var objchk = document.getElementsByName("chkListOfNetworkDevice")


        for (var i = 0; i < objchk.length; i++) {
            if (objchk[i].checked == true) {
                DelId = DelId + objchk[i].value + " , ";
            }
        }

        if (DelId == "") {
            ShowMessageWarning("Please select record");

        }
        else {
            var count = 0; // utk elakkan decisionmessage masuk lebih dri 1 kali
            ShowDecisionMessage("Are you sure to delete this record?", function () {

                if (count == 0) {
                    //       alert(DelId);
                    viewModel.DeleteListOfNetworkDevice(DelId);

                    count++;
                }


            });

        }


    })
    $('#deleteListOfWebApplication').click(function () {

        var DelId = "";
        var objchk = document.getElementsByName("chkListOfWebApplication")


        for (var i = 0; i < objchk.length; i++) {
            if (objchk[i].checked == true) {
                DelId = DelId + objchk[i].value + " , ";
            }
        }

        if (DelId == "") {
            ShowMessageWarning("Please select record");

        }
        else {
            var count = 0; // utk elakkan decisionmessage masuk lebih dri 1 kali
            ShowDecisionMessage("Are you sure to delete this record?", function () {

                if (count == 0) {
                    //       alert(DelId);
                    viewModel.DeleteListOfWebApplication(DelId);

                    count++;
                }


            });

        }


    })
    $('#deleteListOfWireless').click(function () {

        var DelId = "";
        var objchk = document.getElementsByName("chkListOfWireless")


        for (var i = 0; i < objchk.length; i++) {
            if (objchk[i].checked == true) {
                DelId = DelId + objchk[i].value + " , ";
            }
        }

        if (DelId == "") {
            ShowMessageWarning("Please select record");

        }
        else {
            var count = 0; // utk elakkan decisionmessage masuk lebih dri 1 kali
            ShowDecisionMessage("Are you sure to delete this record?", function () {

                if (count == 0) {
                    //       alert(DelId);
                    viewModel.DeleteListOfWireless(DelId);

                    count++;
                }


            });

        }


    })
    $('#deleteListOfDatabase').click(function () {

        var DelId = "";
        var objchk = document.getElementsByName("chkListOfDatabase")


        for (var i = 0; i < objchk.length; i++) {
            if (objchk[i].checked == true) {
                DelId = DelId + objchk[i].value + " , ";
            }
        }

        if (DelId == "") {
            ShowMessageWarning("Please select record");

        }
        else {
            var count = 0; // utk elakkan decisionmessage masuk lebih dri 1 kali
            ShowDecisionMessage("Are you sure to delete this record?", function () {

                if (count == 0) {
                    //       alert(DelId);
                    viewModel.DeleteListOfDatabase(DelId);

                    count++;
                }


            });

        }


    })

    $(function () {

        viewModel = {
            Vulnerability: ko.mapping.fromJS(Register),
            city: ko.observableArray([]),
            cityCd: ko.observable(""),
            state: ko.observableArray([]),
            stateCd: ko.observable(""),
            listofserver:
            {
                Hostname: ko.observable(""),
                IPAddr: ko.observable(""),
                OS: ko.observable(""),
            },
            ListOfNetworkDevice:
            {
                NetDevice: ko.observable(""),
                IPAddr: ko.observable(""),
                Model: ko.observable(""),
            },
            ListOfWebApplication:
            {
                AppNm: ko.observable(""),
                AppURL: ko.observable(""),
            },
            ListOfWireless:
            {
                SSID: ko.observable(""),
            },
            ListOfDatabase:
            {
                Hostname: ko.observable(""),
                IPAddr: ko.observable(""),
                Type: ko.observable(""),
            },

            updateClientInfo: function () {

                var country = $('#country :selected').text();
                if (country == "Others") {
                    var combine = viewModel.Vulnerability.VulProjClient.PhoneNo();

                } else {
                    var combine = country + "" + viewModel.Vulnerability.VulProjClient.PhoneNo();
                }
                viewModel.Vulnerability.VulProjClient.PhoneNo(combine);

                var value = $("#myForm").validationEngine('validate');

                viewModel.Vulnerability.VulProj.VulProjectName(htmlEnc($("#project_nm").val()));
                viewModel.Vulnerability.VulProjClient.VulProjClientName(htmlEnc($("#customer_nm").val()));
                viewModel.Vulnerability.VulProjClient.Organization(htmlEnc($("#organization_nm").val()));
                viewModel.Vulnerability.VulProjClient.ContactPerson(htmlEnc($("#contact_person").val()));
                viewModel.Vulnerability.VulProjClient.Designation(htmlEnc($("#designation").val()));
                viewModel.Vulnerability.VulProjClient.Addr1(htmlEnc($("#addr1").val()));
                viewModel.Vulnerability.VulProjClient.Addr2(htmlEnc($("#addr2").val()));
                viewModel.Vulnerability.VulProjClient.Addr3(htmlEnc($("#addr3").val()));
                viewModel.Vulnerability.VulProjClient.Email(htmlEnc($("#email").val()));


                //if (viewModel.Agency.ParentAgcyind() == null) {
                //    viewModel.Agency.ParentAgcyind(true);
                //}

                if (value == true) {
                    ShowDecisionMessage("Are you sure to save this Record ? ", function () {
                        $.ajax({
                            type: 'POST',
                            url: server + '/Admin/UpdateVulClient',
                            contentType: "application/json; charset=utf-8",
                            headers: {
                                '__RequestVerificationToken': tokenCsrf
                            },
                            data: JSON.stringify({ modelss: ko.mapping.toJS(viewModel.Vulnerability.VulProj), modelss2: ko.mapping.toJS(viewModel.Vulnerability.VulProjClient) }),
                            success: function (msg) {
                                if (msg.OK) {
                                    var btnRefresh = function () {
                                        location.reload();
                                    }
                                    ShowMessageSuccess("Data successfully update.", btnRefresh);

                                }
                                else {
                                    ShowMessage('Unsuccesfully update.');
                                }

                            },
                            error: function (xhr) {
                            }
                        });
                    });
                } else {
                    $("#myForm").validationEngine();
                }

            },

            updateScopeOfWork: function () {
                var value = $("#myFormScope").validationEngine('validate');

                viewModel.Vulnerability.VulProjScope.Location(htmlEnc($("#loc_ass").val()));
                //if (viewModel.Agency.ParentAgcyind() == null) {
                //    viewModel.Agency.ParentAgcyind(true);
                //}

                if (value == true) {
                    ShowDecisionMessage("Are you sure to save this Record ? ", function () {
                        $.ajax({
                            type: 'POST',
                            url: server + '/Vulnerability/UpdateScopeOfWork',
                            contentType: "application/json; charset=utf-8",
                            headers: {
                                '__RequestVerificationToken': tokenCsrf
                            },
                            data: JSON.stringify({ modelss: ko.mapping.toJS(viewModel.Vulnerability.VulProjScope) }),
                            success: function (msg) {
                                if (msg.OK) {
                                    var btnUpdate = function () {
                                        sessionStorage.setItem("activtab", 1);
                                        location.reload();
                                    }
                                    ShowMessageSuccess("Data successfully update.", btnUpdate);
                                }
                                else {
                                    ShowMessage('Unsuccesfully update.');
                                }

                            },
                            error: function (xhr) {
                            }
                        });
                    });
                } else {
                    $("#myFormScope").validationEngine();
                }

            },

            saveUpdatelistofserver: function () {
                var value = $("#editFormlistofserver").validationEngine('validate');

                if (value == true) {
                    //alert(viewModel.Vulnerability.VulProj.VulProjectId());
                    $.ajax({
                        type: 'POST',
                        url: '/Vulnerability/Addlistofserver',//controller/nama function
                        contentType: "application/json; charset=utf-8",
                        headers: {
                            '__RequestVerificationToken': tokenCsrf
                        },
                        data: JSON.stringify({ modelss: ko.mapping.toJS(viewModel.listofserver), VulProjectId: viewModel.Vulnerability.VulProj.VulProjectId() }), //parameter

                        success: function (msg) {

                            if (msg.ok) {
                                $('#listofserver').modal('hide');

                                //ShowMessageSuccess("Data successfully add.");
                                //$(window).click(function() {
                                sessionStorage.setItem("activtab", 1);
                                sessionStorage.setItem("Location", viewModel.Vulnerability.VulProjScope.Location());
                                location.reload();

                                //});
                            }
                            else {
                                $('#listofserver').modal('hide');
                                ShowMessageDanger('Unsuccesfully add.');
                            }

                        },
                        error: function (xhr) {
                        }
                    });
                } else {
                    $("#editFormlistofserver").validationEngine();
                }
            },

            saveUpdateListOfNetworkDevice: function () {
                var value = $("#editFormListOfNetworkDevice").validationEngine('validate');

                if (value == true) {
                    //alert(viewModel.Vulnerability.VulProj.VulProjectId());
                    $.ajax({
                        type: 'POST',
                        url: '/Vulnerability/AddListOfNetworkDevice',//controller/nama function
                        contentType: "application/json; charset=utf-8",
                        headers: {
                            '__RequestVerificationToken': tokenCsrf
                        },
                        data: JSON.stringify({ modelss: ko.mapping.toJS(viewModel.ListOfNetworkDevice), VulProjectId: viewModel.Vulnerability.VulProj.VulProjectId() }), //parameter

                        success: function (msg) {

                            if (msg.ok) {
                                $('#ListOfNetworkDevice').modal('hide');

                                //ShowMessageSuccess("Data successfully add.");
                                //$(window).click(function() {
                                sessionStorage.setItem("activtab", 1);
                                sessionStorage.setItem("Location", viewModel.Vulnerability.VulProjScope.Location());
                                location.reload();

                                //});
                            }
                            else {
                                $('#ListOfNetworkDevice').modal('hide');
                                ShowMessageDanger('Unsuccesfully add.');
                            }

                        },
                        error: function (xhr) {
                        }
                    });
                } else {
                    $("#editFormListOfNetworkDevice").validationEngine();
                }
            },

            saveUpdateListOfWebApplication: function () {
                var value = $("#editFormListOfWebApplication").validationEngine('validate');

                if (value == true) {
                    //alert(viewModel.Vulnerability.VulProj.VulProjectId());
                    $.ajax({
                        type: 'POST',
                        url: '/Vulnerability/AddListOfWebApplication',//controller/nama function
                        contentType: "application/json; charset=utf-8",
                        headers: {
                            '__RequestVerificationToken': tokenCsrf
                        },
                        data: JSON.stringify({ modelss: ko.mapping.toJS(viewModel.ListOfWebApplication), VulProjectId: viewModel.Vulnerability.VulProj.VulProjectId() }), //parameter

                        success: function (msg) {

                            if (msg.ok) {
                                $('#ListOfWebApplication').modal('hide');

                                //ShowMessageSuccess("Data successfully add.");
                                //$(window).click(function() {
                                sessionStorage.setItem("activtab", 1);
                                sessionStorage.setItem("Location", viewModel.Vulnerability.VulProjScope.Location());
                                location.reload();

                                //});
                            }
                            else {
                                $('#ListOfWebApplication').modal('hide');
                                ShowMessageDanger('Unsuccesfully add.');
                            }

                        },
                        error: function (xhr) {
                        }
                    });
                } else {
                    $("#editFormListOfWebApplication").validationEngine();
                }
            },

            saveUpdateListOfWireless: function () {
                var value = $("#editFormListOfWireless").validationEngine('validate');

                if (value == true) {
                    //alert(viewModel.Vulnerability.VulProj.VulProjectId());
                    $.ajax({
                        type: 'POST',
                        url: '/Vulnerability/AddListOfWireless',//controller/nama function
                        contentType: "application/json; charset=utf-8",
                        headers: {
                            '__RequestVerificationToken': tokenCsrf
                        },
                        data: JSON.stringify({ modelss: ko.mapping.toJS(viewModel.ListOfWireless), VulProjectId: viewModel.Vulnerability.VulProj.VulProjectId() }), //parameter

                        success: function (msg) {

                            if (msg.ok) {
                                $('#ListOfWireless').modal('hide');

                                //ShowMessageSuccess("Data successfully add.");
                                //$(window).click(function() {
                                sessionStorage.setItem("activtab", 1);
                                sessionStorage.setItem("Location", viewModel.Vulnerability.VulProjScope.Location());
                                location.reload();

                                //});
                            }
                            else {
                                $('#ListOfWireless').modal('hide');
                                ShowMessageDanger('Unsuccesfully add.');
                            }

                        },
                        error: function (xhr) {
                        }
                    });
                } else {
                    $("#editFormListOfWireless").validationEngine();
                }
            },

            saveUpdateListOfDatabase: function () {
                var value = $("#editFormListOfDatabase").validationEngine('validate');
                //alert(viewModel.ListOfDatabase.IPAddr());
                if (value == true) {
                    //alert(viewModel.Vulnerability.VulProj.VulProjectId());
                    $.ajax({
                        type: 'POST',
                        url: '/Vulnerability/AddListOfDatabase',//controller/nama function
                        contentType: "application/json; charset=utf-8",
                        headers: {
                            '__RequestVerificationToken': tokenCsrf
                        },
                        data: JSON.stringify({ modelss: ko.mapping.toJS(viewModel.ListOfDatabase), VulProjectId: viewModel.Vulnerability.VulProj.VulProjectId() }), //parameter

                        success: function (msg) {

                            if (msg.ok) {
                                $('#ListOfDatabase').modal('hide');

                                //ShowMessageSuccess("Data successfully add.");
                                //$(window).click(function() {
                                sessionStorage.setItem("activtab", 1);
                                sessionStorage.setItem("Location", viewModel.Vulnerability.VulProjScope.Location());
                                location.reload();

                                //});
                            }
                            else {
                                $('#ListOfDatabase').modal('hide');
                                ShowMessageDanger('Unsuccesfully add.');
                            }

                        },
                        error: function (xhr) {
                        }
                    });
                } else {
                    $("#editFormListOfDatabase").validationEngine();
                }
            },

            Deletelistofserver: function (DelId) {

                showLoading();
                $.ajax({
                    type: "POST",
                    url: "/Vulnerability/DeleteListOfServer",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify({ VulProjServerLstId: DelId }),
                    datatype: "json",
                    success: function (msg) {
                        if (msg.OK) {

                            var btnUpdateDel0 = function () {
                                sessionStorage.setItem("activtab", 1);
                                sessionStorage.setItem("Location", viewModel.Vulnerability.VulProjScope.Location());
                                location.reload();
                            }

                            ShowMessageSuccess("Data successfully delete.", btnUpdateDel0);


                        }
                        else {
                            ShowMessageDanger('Unsuccesfully delete.');
                        }
                    }
                })
            },

            DeleteListOfNetworkDevice: function (DelId) {

                showLoading();
                $.ajax({
                    type: "POST",
                    url: "/Vulnerability/DeleteListOfNetworkDevice",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify({ VulProjNetDeviceLstId: DelId }),
                    datatype: "json",
                    success: function (msg) {
                        if (msg.OK) {

                            var btnRefreshDel = function () {
                                sessionStorage.setItem("activtab", 1);
                                sessionStorage.setItem("Location", viewModel.Vulnerability.VulProjScope.Location());
                                location.reload();
                            }

                            ShowMessageSuccess("Data successfully delete.", btnRefreshDel);

                        }
                        else {
                            ShowMessageDanger('Unsuccesfully delete.');
                        }
                    }
                })
            },

            DeleteListOfWebApplication: function (DelId) {

                showLoading();
                $.ajax({
                    type: "POST",
                    url: "/Vulnerability/DeleteListOfWebApplication",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify({ VulProjWebAppLstId: DelId }),
                    datatype: "json",
                    success: function (msg) {
                        if (msg.OK) {

                            var btnRefreshDel2 = function () {
                                sessionStorage.setItem("activtab", 1);
                                sessionStorage.setItem("Location", viewModel.Vulnerability.VulProjScope.Location());
                                location.reload();
                            }

                            ShowMessageSuccess("Data successfully delete.", btnRefreshDel2);

                        }
                        else {
                            ShowMessageDanger('Unsuccesfully delete.');
                        }
                    }
                })
            },

            DeleteListOfWireless: function (DelId) {

                showLoading();
                $.ajax({
                    type: "POST",
                    url: "/Vulnerability/DeleteListOfWireless",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify({ VulProjWirelessLstId: DelId }),
                    datatype: "json",
                    success: function (msg) {
                        if (msg.OK) {

                            var btnRefreshDel3 = function () {
                                sessionStorage.setItem("activtab", 1);
                                sessionStorage.setItem("Location", viewModel.Vulnerability.VulProjScope.Location());
                                location.reload();
                            }

                            ShowMessageSuccess("Data successfully delete.", btnRefreshDel3);

                        }
                        else {
                            ShowMessageDanger('Unsuccesfully delete.');
                        }
                    }
                })
            },

            DeleteListOfDatabase: function (DelId) {

                showLoading();
                $.ajax({
                    type: "POST",
                    url: "/Vulnerability/DeleteListOfDatabase",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify({ VulProjDBlstId: DelId }),
                    datatype: "json",
                    success: function (msg) {
                        if (msg.OK) {

                            var btnRefreshDel4 = function () {
                                sessionStorage.setItem("activtab", 1);
                                sessionStorage.setItem("Location", viewModel.Vulnerability.VulProjScope.Location());
                                location.reload();
                            }

                            ShowMessageSuccess("Data successfully delete.", btnRefreshDel4);

                        }
                        else {
                            ShowMessageDanger('Unsuccesfully delete.');
                        }
                    }
                })
            },
        }

        if (viewModel.Vulnerability.VulProjClient.StateCd() != null) {
            loadCity(viewModel.Vulnerability.VulProjClient.StateCd());
        }

        viewModel.Vulnerability.VulProjClient.StateCd.subscribe(function (d) {

            if (d) {
                loadCity(d);
            }
        });

        if (sessionStorage["Location"] != undefined) {
            viewModel.Vulnerability.VulProjScope.Location(sessionStorage["Location"]);
        }

        sessionStorage.clear();

        ko.applyBindings(viewModel);
        loadState();


    });


    function resetDialoglistofserver() {
        viewModel.listofserver.Hostname("");
        viewModel.listofserver.IPAddr("");
        viewModel.listofserver.OS("");
    }

    function resetDialogListOfNetworkDevice() {
        viewModel.ListOfNetworkDevice.NetDevice("");
        viewModel.ListOfNetworkDevice.IPAddr("");
        viewModel.ListOfNetworkDevice.Model("");
    }

    function resetUpdateListOfWebApplication() {
        viewModel.ListOfWebApplication.AppNm("");
        viewModel.ListOfWebApplication.AppURL("");
    }

    function resetUpdateListOfWireless() {
        viewModel.ListOfWireless.SSID("");
    }

    function resetUpdateListOfDatabase() {
        viewModel.ListOfDatabase.Hostname("");
        viewModel.ListOfDatabase.IPAddr("");
        viewModel.ListOfDatabase.Type("");
    }


</script>
<script src="~/Scripts/Common/datepicker.js"></script>